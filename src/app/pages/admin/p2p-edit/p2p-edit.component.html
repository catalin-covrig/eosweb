<div class="container">
  <div class="spinner-container" *ngIf="isLoading">
    <mat-spinner class="spinner-color"></mat-spinner>
  </div>

  <div class=" col-md-12">
    <h1 class="market-header col-sm-8">Update peer</h1>
    
    <div class="market-header header-link col-sm-4">
      <a [routerLink]="['../../p2p-management']"
        mat-raised-button
        color="primary">
          P2P - management
      </a>
    </div>
  </div>
  <form [formGroup]="updateFGroup"
    (submit)="send()"
    spellcheck="false"
    autocomplete="off"
    novalidate
    class="update-form col-md-12">

    <div class="item">
      <mat-form-field [hideRequiredMarker]="false">
        <input matInput [type]="hide ? 'password' : 'text'" placeholder="Monitor's Private Key" formControlName="privateKey" [required]="true">
        <mat-icon matSuffix (click)="hide = !hide">{{hide ? 'visibility' : 'visibility_off'}}</mat-icon>
      </mat-form-field>
    </div>

    <div class="item">
      <mat-form-field [hideRequiredMarker]="false">
        <input matInput type="text" placeholder="Producer Name" formControlName="name" [required]="true">
        <mat-hint>the update will be done based on the producer name</mat-hint>
      </mat-form-field>
    </div>

    <div class="item">
      <mat-form-field [hideRequiredMarker]="true">
        <input matInput type="text" placeholder="Organization" formControlName="organization" [required]="false">
      </mat-form-field>
    </div>

    <div class="item">
      <mat-form-field class="small" [hideRequiredMarker]="true">
        <mat-select formControlName="protocol" [required]="true">
          <mat-option *ngFor="let protocol of protocols" [value]="protocol.value">
            {{protocol.label}}
          </mat-option>
        </mat-select>
        <mat-hint>Protocol</mat-hint>
      </mat-form-field>
      <mat-form-field [hideRequiredMarker]="true">
        <input matInput type="text" placeholder="Server IP address" formControlName="serverIPAddress" [required]="false">
        <mat-hint>0.0.0.0:8888</mat-hint>
      </mat-form-field>
    </div>

    <div class="item">
      <mat-form-field [hideRequiredMarker]="true">
        <input matInput type="text" placeholder="P2P Server Address" formControlName="p2pServerAddress" [required]="false">
        <mat-hint>0.0.0.0:8888</mat-hint>
      </mat-form-field>
    </div>

    <div class="item">
      <mat-form-field [hideRequiredMarker]="true">
        <input matInput type="text" placeholder="Telegram" formControlName="telegramChannel" [required]="false">
        <mat-hint>@yourTelegramUsername</mat-hint>
      </mat-form-field>
    </div>

    <div class="item">
      <mat-form-field [hideRequiredMarker]="true">
        <input matInput placeholder="Email" formControlName="email" [required]="false">
        <mat-hint>your@email.com</mat-hint>
      </mat-form-field>
    </div>

    <div class="item">
      <mat-form-field [hideRequiredMarker]="true">
        <input matInput type="text" placeholder="URL" formControlName="url" [required]="false">
        <mat-hint>http://telosfoundation.io</mat-hint>
      </mat-form-field>
    </div>

    <button type="submit"
      mat-raised-button
      color="primary"
      [disabled]="!updateFGroup.valid"
      class="footer">
        Update peer
    </button>
  </form>

</div>